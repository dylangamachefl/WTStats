(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{33493:(e,s,a)=>{Promise.resolve().then(a.bind(a,83788))},83788:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>el});var t=a(57437),r=a(2265),l=a(16463),n=a(89733),i=a(48185),d=a(2128),c=a(47304),o=a(2183),m=a(89736),x=a(66458);let p=(0,a(6497).Z)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);var u=a(15747),h=a(89798),f=a(38050),v=a(3409),g=a(1104),j=a(82482),_=a(80112),N=a(70402),b=a(79055),y=a(78149),k=a(1584),w=a(98324),A=a(91715),S=a(47250),P=a(75238),D=a(25171),M="Switch",[O,C]=(0,w.b)(M),[E,F]=O(M),R=r.forwardRef((e,s)=>{let{__scopeSwitch:a,name:l,checked:n,defaultChecked:i,required:d,disabled:c,value:o="on",onCheckedChange:m,form:x,...p}=e,[u,h]=r.useState(null),f=(0,k.e)(s,e=>h(e)),v=r.useRef(!1),g=!u||x||!!u.closest("form"),[j,_]=(0,A.T)({prop:n,defaultProp:null!=i&&i,onChange:m,caller:M});return(0,t.jsxs)(E,{scope:a,checked:j,disabled:c,children:[(0,t.jsx)(D.WV.button,{type:"button",role:"switch","aria-checked":j,"aria-required":d,"data-state":V(j),"data-disabled":c?"":void 0,disabled:c,value:o,...p,ref:f,onClick:(0,y.M)(e.onClick,e=>{_(e=>!e),g&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),g&&(0,t.jsx)(T,{control:u,bubbles:!v.current,name:l,value:o,checked:j,required:d,disabled:c,form:x,style:{transform:"translateX(-100%)"}})]})});R.displayName=M;var Z="SwitchThumb",G=r.forwardRef((e,s)=>{let{__scopeSwitch:a,...r}=e,l=F(Z,a);return(0,t.jsx)(D.WV.span,{"data-state":V(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:s})});G.displayName=Z;var T=r.forwardRef((e,s)=>{let{__scopeSwitch:a,control:l,checked:n,bubbles:i=!0,...d}=e,c=r.useRef(null),o=(0,k.e)(c,s),m=(0,S.D)(n),x=(0,P.t)(l);return r.useEffect(()=>{let e=c.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==n&&s){let a=new Event("click",{bubbles:i});s.call(e,n),e.dispatchEvent(a)}},[m,n,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...d,tabIndex:-1,ref:o,style:{...d.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function V(e){return e?"checked":"unchecked"}T.displayName="SwitchBubbleInput";let Y=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(R,{className:(0,j.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:s,children:(0,t.jsx)(G,{className:(0,j.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});Y.displayName=R.displayName;var H=a(35231),B=a(25974),z=a(54142),L=a(2842),I=a(9542),W=a(85475),J=a(45745),q=a(68295),K=a(34366);let Q=[{id:"2024",year:2024},{id:"2023",year:2023},{id:"2022",year:2022},{id:"2021",year:2021},{id:"2020",year:2020},{id:"2019",year:2019},{id:"2018",year:2018},{id:"2017",year:2017},{id:"2016",year:2016},{id:"2015",year:2015},{id:"2014",year:2014},{id:"2013",year:2013},{id:"2012",year:2012},{id:"2011",year:2011},{id:"2009",year:2009}].sort((e,s)=>s.year-e.year),U=[{id:"1",name:"Jack"},{id:"2",name:"Josh"},{id:"3",name:"Jake"},{id:"4",name:"Mark"},{id:"5",name:"Sean"},{id:"6",name:"Nick"},{id:"7",name:"Will"},{id:"8",name:"Zach"},{id:"9",name:"Lac"},{id:"11",name:"Chris"},{id:"12",name:"Dylan"},{id:"13",name:"Dan"},{id:"14",name:"Fitz"}],X={avg_pvdre:{label:"POE",key:"avg_pvdre",format:e=>"number"==typeof e?e.toFixed(1):"-",tooltipLabel:"POE (Points Over Expected)",description:"Points Over Expected (POE) shows average points scored by drafted players over a baseline expectation. Colors relative to average (green=above, red=below, neutral=mid-range)."},pvdre_hit_rate:{label:"Hit Rate %",key:"pvdre_hit_rate",format:e=>"number"==typeof e?(100*e).toFixed(1)+"%":"-",tooltipLabel:"Hit Rate %",description:"Hit Rate % indicates the percentage of draft picks that met or exceeded expected performance. Colors relative to average (green=above, red=below, neutral=mid-range)."},avg_value_vs_adp:{label:"Value vs ADP",key:"avg_value_vs_adp",format:e=>"number"==typeof e?e.toFixed(1):"-",tooltipLabel:"Avg Value vs ADP",description:"Average Value vs ADP measures draft value relative to Average Draft Position. Green for positive (steal), red for negative (reach)."}},$=()=>{var e,s;let[a,l]=(0,r.useState)(null),[d,f]=(0,r.useState)(null),[v,g]=(0,r.useState)(!0),[y,k]=(0,r.useState)(null),[w,A]=(0,r.useState)({key:"gm_name",direction:"asc"}),[S,P]=(0,r.useState)("avg_pvdre"),{currentMin:D,currentMax:M}=(0,r.useMemo)(()=>{if(!d||!Array.isArray(d))return{currentMin:0,currentMax:0};let e=d.map(e=>e[S]).filter(e=>"number"==typeof e);return 0===e.length?{currentMin:0,currentMax:0}:{currentMin:Math.min(...e),currentMax:Math.max(...e)}},[d,S]),{minGmAvg:O,maxGmAvg:C}=(0,r.useMemo)(()=>{if(!(null==a?void 0:a.gmAverages)||!Array.isArray(a.gmAverages))return{minGmAvg:0,maxGmAvg:0};let e=a.gmAverages.map(e=>e[S]).filter(e=>"number"==typeof e);return 0===e.length?{minGmAvg:0,maxGmAvg:0}:{minGmAvg:Math.min(...e),maxGmAvg:Math.max(...e)}},[null==a?void 0:a.gmAverages,S]),{minSeasonAvg:E,maxSeasonAvg:F}=(0,r.useMemo)(()=>{if(!(null==a?void 0:a.seasonAverages)||!Array.isArray(a.seasonAverages))return{minSeasonAvg:0,maxSeasonAvg:0};let e=a.seasonAverages.map(e=>e[S]).filter(e=>"number"==typeof e);return 0===e.length?{minSeasonAvg:0,maxSeasonAvg:0}:{minSeasonAvg:Math.min(...e),maxSeasonAvg:Math.max(...e)}},[null==a?void 0:a.seasonAverages,S]),R=(0,r.useMemo)(()=>{if(!d||0===d.length)return null;let e=d.map(e=>e[S]).filter(e=>"number"==typeof e);return 0===e.length?null:e.reduce((e,s)=>e+s,0)/e.length},[d,S]);(0,r.useEffect)(()=>{(async()=>{g(!0),k(null);try{let e="/data/draft_data/gm_season_performance_grid.json";console.log("[DraftOverview] Fetching ".concat(e));let s=await (0,K._)(e);console.log("[DraftOverview] Fetched data:",s),l(s),f(s.gmSeasonPerformanceGrid||null)}catch(e){e instanceof Error?k(e.message):k("An unknown error occurred"),console.error("[DraftOverview] Error in fetchData:",e),l(null),f(null)}finally{g(!1)}})()},[]);let{heatmapData:Z,gmNames:G,seasonYears:T}=(0,r.useMemo)(()=>{if(!d)return{heatmapData:{},gmNames:[],seasonYears:[]};let e=d.filter(e=>"string"==typeof e.gm_name&&"number"==typeof e.season_id),s=e.reduce((e,s)=>(e[s.gm_name]||(e[s.gm_name]={}),e[s.gm_name][s.season_id.toString()]=s,e),{}),a=Array.from(new Set(e.map(e=>e.gm_name))),t=new Map;return e.forEach(e=>{t.has(e.gm_name)||t.set(e.gm_name,[]),t.get(e.gm_name).push(e)}),"gm_name"===w.key&&a.sort((e,s)=>{let a=e.localeCompare(s);return"asc"===w.direction?a:-a}),{heatmapData:s,gmNames:a,seasonYears:Array.from(new Set(e.map(e=>e.season_id.toString()))).sort((e,s)=>parseInt(e)-parseInt(s))}},[d,w]),V=(e,s,a,t)=>{let r=null==e?void 0:e[s];if(null==r)return"bg-muted/30 text-muted-foreground";let l="font-semibold ";if("avg_value_vs_adp"===s){if(r>.1){let e=Math.min(1,Math.max(0,r/Math.max(.11000000000000001,t)));return e>.66?l+"bg-green-300 text-green-800":e>.33?l+"bg-green-200 text-green-800":l+"bg-green-100 text-green-700"}if(!(r<-.1))return l+"bg-neutral-100 text-neutral-700";{let e=Math.min(1,Math.max(0,r/Math.min(-.11000000000000001,a)));return e>.66?l+"bg-red-300 text-red-800":e>.33?l+"bg-red-200 text-red-800":l+"bg-red-100 text-red-700"}}{let e=t-a;if(0===e)return l+"bg-neutral-100 text-neutral-700";let s=(r-a)/e;if(s>=.4&&s<=.6)return l+"bg-neutral-100 text-neutral-700";if(s<.4){let e=Math.min(1,(.4-s)/.4);return e>.66?l+"bg-red-300 text-red-800":e>.33?l+"bg-red-200 text-red-800":l+"bg-red-100 text-red-700"}{let e=Math.min(1,(s-.6)/.4);return e>.66?l+"bg-green-300 text-green-800":e>.33?l+"bg-green-200 text-green-800":l+"bg-green-100 text-green-700"}}},Y=e=>{let s="asc";w.key===e&&"asc"===w.direction&&(s="desc"),A({key:e,direction:s})};return v?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(p,{})," Draft Performance Heatmap"]}),(0,t.jsx)(i.SZ,{children:"Loading GM draft performance metrics across seasons..."})]}),(0,t.jsxs)(i.aY,{children:[(0,t.jsx)(o.O,{className:"h-8 w-1/2 mb-4"})," ",(0,t.jsx)("div",{className:"space-y-2",children:[...Array(10)].map((e,s)=>(0,t.jsx)(o.O,{className:"h-10 w-full"},s))})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,t.jsx)(o.O,{className:"h-64 w-full"}),(0,t.jsx)(o.O,{className:"h-64 w-full"})]})]}):y?(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(p,{})," Draft Performance Heatmap"]}),(0,t.jsx)(i.SZ,{children:(null===(e=X[S])||void 0===e?void 0:e.description)||"GM draft performance metrics across seasons. Colors indicate performance relative to the average."})]}),(0,t.jsx)(i.aY,{children:(0,t.jsxs)("p",{className:"text-destructive",children:["Error loading draft performance data: ",y]})})]}):a&&d&&0!==d.length?(0,t.jsx)(m.pn,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(p,{})," Draft Performance Heatmap"]}),(0,t.jsxs)(i.SZ,{children:[X[S].description," Hover over a cell for more details."]})]}),(0,t.jsx)(_.E,{value:S,onValueChange:e=>P(e),className:"flex flex-wrap gap-x-4 gap-y-2 mt-4 sm:mt-0",children:Object.values(X).map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(_.m,{value:e.key,id:e.key}),(0,t.jsx)(N._,{htmlFor:e.key,className:"text-sm cursor-pointer",children:e.label})]},e.key))})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(c.iA,{className:"min-w-full border-collapse",children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{className:"sticky left-0 bg-card z-10 p-2 border text-xs md:text-sm",children:(0,t.jsxs)(n.z,{variant:"ghost",onClick:()=>Y("gm_name"),className:"px-1 group",children:["GM Name ","gm_name"===w.key?(0,t.jsx)(x.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50 group-hover:opacity-100 transition-opacity"}):(0,t.jsx)(x.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-0 group-hover:opacity-50 transition-opacity"})]})}),T.map(e=>(0,t.jsx)(c.ss,{className:"p-2 border text-center text-xs md:text-sm whitespace-nowrap",children:e},e)),(0,t.jsx)(c.ss,{className:"p-2 border text-center text-xs md:text-sm whitespace-nowrap font-bold bg-muted/50",children:"GM Avg"})]})}),(0,t.jsx)(c.RM,{children:G.map(e=>{var s;let r;let l=null===(s=a.gmAverages)||void 0===s?void 0:s.find(s=>{var a;return s.gm_name===e||s.gm_id&&(null===(a=d.find(s=>s.gm_name===e))||void 0===a?void 0:a.gm_id)===s.gm_id});l&&S in l&&(r=l[S]);let n={season_id:0,gm_id:(null==l?void 0:l.gm_id)||0,gm_name:e,avg_pvdre:null==l?void 0:l.avg_pvdre,pvdre_hit_rate:null==l?void 0:l.pvdre_hit_rate,avg_value_vs_adp:null==l?void 0:l.avg_value_vs_adp};return(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.pj,{className:"font-medium sticky left-0 bg-card z-10 p-2 border text-xs md:text-sm whitespace-nowrap",children:e}),T.map(s=>{var a,r,l,n,i,d,o,x,p;let u=null===(a=Z[e])||void 0===a?void 0:a[s],h=null==u?void 0:u[S],f=V(u,S,D,M),v=X[S].format(h);return(0,t.jsx)(c.pj,{className:"p-0 border text-center text-xs md:text-sm",style:{minWidth:"70px"},children:(0,t.jsxs)(m.u,{delayDuration:100,children:[(0,t.jsx)(m.aJ,{asChild:!0,children:(0,t.jsx)("div",{className:(0,j.cn)("p-2 h-full w-full flex items-center justify-center",f),children:v})}),u&&(0,t.jsx)(m._v,{className:"bg-popover text-popover-foreground p-3 rounded-md shadow-lg max-w-xs w-auto",children:(0,t.jsxs)("div",{className:"space-y-1.5 text-left",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[u.gm_name," - ",u.season_id]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"POE per pick:"})," ",null!==(i=null===(r=u.avg_pvdre)||void 0===r?void 0:r.toFixed(2))&&void 0!==i?i:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Hit Rate:"})," ",void 0!==u.pvdre_hit_rate&&null!==u.pvdre_hit_rate?(100*u.pvdre_hit_rate).toFixed(1)+"%":"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Avg Value vs ADP:"})," ",null!==(d=null===(l=u.avg_value_vs_adp)||void 0===l?void 0:l.toFixed(1))&&void 0!==d?d:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Total Picks:"})," ",null!==(o=u.total_picks)&&void 0!==o?o:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"1st Round Pos:"})," ",null!==(x=u.first_round_draft_position)&&void 0!==x?x:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Total POE:"})," ",null!==(p=null===(n=u.total_pvdre)||void 0===n?void 0:n.toFixed(2))&&void 0!==p?p:"N/A"]})]})})]})},"".concat(e,"-").concat(s,"-").concat(S))}),(0,t.jsx)(c.pj,{className:"p-0 border text-center text-xs md:text-sm font-bold bg-muted/50",style:{minWidth:"70px"},children:(0,t.jsxs)(m.u,{delayDuration:100,children:[(0,t.jsx)(m.aJ,{asChild:!0,children:(0,t.jsx)("div",{className:(0,j.cn)("p-2 h-full w-full flex items-center justify-center",V(n,S,O,C)),children:X[S].format(r)})}),(0,t.jsxs)(m._v,{className:"bg-popover text-popover-foreground p-3 rounded-md shadow-lg max-w-xs w-auto",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e," - Career Avg"]}),(0,t.jsxs)("p",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[X[S].tooltipLabel,":"]})," ",X[S].format(r)]})]})]})})]},e)})}),(0,t.jsx)(c.yt,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.pj,{className:"font-bold sticky left-0 bg-muted/60 z-10 p-2 border text-xs md:text-sm whitespace-nowrap",children:"Season Avg"}),T.map(e=>{var s;let r;let l=null===(s=a.seasonAverages)||void 0===s?void 0:s.find(s=>s.season_id.toString()===e);l&&S in l&&(r=l[S]);let n={season_id:parseInt(e),gm_id:0,gm_name:"League Average",avg_pvdre:null==l?void 0:l.avg_pvdre,pvdre_hit_rate:null==l?void 0:l.pvdre_hit_rate,avg_value_vs_adp:null==l?void 0:l.avg_value_vs_adp};return(0,t.jsx)(c.pj,{className:"p-0 border text-center text-xs md:text-sm font-bold bg-muted/60",style:{minWidth:"70px"},children:(0,t.jsxs)(m.u,{delayDuration:100,children:[(0,t.jsx)(m.aJ,{asChild:!0,children:(0,t.jsx)("div",{className:(0,j.cn)("p-2 h-full w-full flex items-center justify-center",V(n,S,E,F)),children:X[S].format(r)})}),(0,t.jsxs)(m._v,{className:"bg-popover text-popover-foreground p-3 rounded-md shadow-lg max-w-xs w-auto",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e," Season Average"]}),(0,t.jsxs)("p",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[X[S].tooltipLabel,":"]})," ",X[S].format(r)]})]})]})},"season-avg-".concat(e))}),(0,t.jsx)(c.pj,{className:"p-0 border text-center text-xs md:text-sm font-bold bg-muted/80",style:{minWidth:"70px"},children:(0,t.jsxs)(m.u,{delayDuration:100,children:[(0,t.jsx)(m.aJ,{asChild:!0,children:(0,t.jsx)("div",{className:(0,j.cn)("p-2 h-full w-full flex items-center justify-center",V({avg_pvdre:R,pvdre_hit_rate:R,avg_value_vs_adp:R},S,D,M)),children:X[S].format(R)})}),(0,t.jsxs)(m._v,{className:"bg-popover text-popover-foreground p-3 rounded-md shadow-lg max-w-xs w-auto",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Overall League Average"}),(0,t.jsxs)("p",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[X[S].tooltipLabel,":"]})," ",X[S].format(R)]})]})]})})]})})]})})})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Z,{className:"text-green-500"})," All-Time Top Draft Steals"]})}),(0,t.jsx)(i.aY,{children:a.allTimeDraftSteals&&a.allTimeDraftSteals.length>0?(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Player"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Season"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Overall Pick"}),(0,t.jsx)(c.ss,{children:"GM"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Drafted (Pos)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Finished (Pos)"}),(0,t.jsx)(c.ss,{className:"text-right",children:"PVDRE"})]})}),(0,t.jsx)(c.RM,{children:a.allTimeDraftSteals.slice(0,10).map((e,s)=>{var a,r,l;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{className:"font-medium",children:[e.player_name," (",e.nfl_team_id||"N/A",")"]}),(0,t.jsx)(c.pj,{className:"text-center",children:e.season_id}),(0,t.jsx)(c.pj,{className:"text-center",children:e.pick_overall}),(0,t.jsx)(c.pj,{children:e.gm_name}),(0,t.jsx)(c.pj,{className:"text-center",children:(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position||"N/A",null!==(r=e.league_positional_draft_rank)&&void 0!==r?r:""]})}),(0,t.jsx)(c.pj,{className:"text-center",children:null!==e.actual_positional_finish_rank&&void 0!==e.actual_positional_finish_rank?(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position||"N/A",e.actual_positional_finish_rank]}):"-"}),(0,t.jsx)(c.pj,{className:"text-right font-semibold text-green-600",children:null!==(l=null===(a=e.pvdre_points_vs_league_draft_rank_exp)||void 0===a?void 0:a.toFixed(1))&&void 0!==l?l:"N/A"})]},"steal-".concat(e.player_id,"-").concat(e.season_id,"-").concat(s))})})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No all-time steals data available."})})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.Z,{className:"text-red-500"})," All-Time Top Draft Busts"]})}),(0,t.jsx)(i.aY,{children:a.allTimeDraftBusts&&a.allTimeDraftBusts.length>0?(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Player"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Season"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Overall Pick"}),(0,t.jsx)(c.ss,{children:"GM"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Drafted (Pos)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Finished (Pos)"}),(0,t.jsx)(c.ss,{className:"text-right",children:"PVDRE"})]})}),(0,t.jsx)(c.RM,{children:a.allTimeDraftBusts.slice(0,10).map((e,s)=>{var a,r,l;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{className:"font-medium",children:[e.player_name," (",e.nfl_team_id||"N/A",")"]}),(0,t.jsx)(c.pj,{className:"text-center",children:e.season_id}),(0,t.jsx)(c.pj,{className:"text-center",children:e.pick_overall}),(0,t.jsx)(c.pj,{children:e.gm_name}),(0,t.jsx)(c.pj,{className:"text-center",children:(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position||"N/A",null!==(r=e.league_positional_draft_rank)&&void 0!==r?r:""]})}),(0,t.jsx)(c.pj,{className:"text-center",children:null!==e.actual_positional_finish_rank&&void 0!==e.actual_positional_finish_rank?(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position||"N/A",e.actual_positional_finish_rank]}):"-"}),(0,t.jsx)(c.pj,{className:"text-right font-semibold text-red-600",children:null!==(l=null===(a=e.pvdre_points_vs_league_draft_rank_exp)||void 0===a?void 0:a.toFixed(1))&&void 0!==l?l:"N/A"})]},"bust-".concat(e.player_id,"-").concat(e.season_id,"-").concat(s))})})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:"No all-time busts data available."})})]})]})]})}):(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(p,{})," Draft Performance Heatmap"]}),(0,t.jsx)(i.SZ,{children:(null===(s=X[S])||void 0===s?void 0:s.description)||"GM draft performance metrics across seasons. Colors indicate performance relative to the average."})]}),(0,t.jsx)(i.aY,{children:(0,t.jsx)("p",{children:"No draft performance data available. Please ensure 'gm_season_performance_grid.json' exists in 'public/data/draft_data/' and is correctly formatted."})})]})},ee=(e,s,a)=>{if(null==e)return"bg-muted/30 text-muted-foreground";let t="font-semibold ",r=a-s;if(0===r)return t+"bg-neutral-100 text-neutral-700";let l=(e-s)/r;if(l>=.45&&l<=.55)return t+"bg-neutral-100 text-neutral-700";if(l<.45){let e=Math.min(1,(.45-l)/.45);return e>.66?t+"bg-red-300 text-red-800":e>.33?t+"bg-red-200 text-red-800":t+"bg-red-100 text-red-700"}{let e=Math.min(1,(l-.55)/.44999999999999996);return e>.66?t+"bg-green-300 text-green-800":e>.33?t+"bg-green-200 text-green-800":t+"bg-green-100 text-green-700"}},es=e=>{if(null==e)return"bg-muted/30 text-muted-foreground";let s="font-semibold ";return e>.1?e>10?s+"bg-green-300 text-green-800":e>5?s+"bg-green-200 text-green-800":s+"bg-green-100 text-green-700":e<-.1?e<-10?s+"bg-red-300 text-red-800":e<-5?s+"bg-red-200 text-red-800":s+"bg-red-100 text-red-700":s+"bg-neutral-100 text-neutral-700"},ea=()=>{var e,s;let[a,l]=(0,r.useState)(null===(e=Q[0])||void 0===e?void 0:e.id),[n,x]=(0,r.useState)(null),[p,f]=(0,r.useState)(null),[v,g]=(0,r.useState)(null),[_,y]=(0,r.useState)(null),[k,w]=(0,r.useState)(!1),[A,S]=(0,r.useState)(null),[P,D]=(0,r.useState)("none");(0,r.useEffect)(()=>{a&&(async()=>{w(!0),S(null),x(null),f(null),g(null),y(null);try{let t="/data/draft_data/seasons/season_".concat(a,"_draft_detail.json");console.log("[SeasonDraftDetail] Fetching ".concat(t));let r=await (0,K._)(t);if(console.log("[SeasonDraftDetail] Fetched raw JSON data for season ".concat(a,":"),r),"object"==typeof r&&null!==r&&Array.isArray(r.draft_board)){var e,s;x(r.draft_board),f(r.team_draft_performance_ranking||null),g((null===(e=r.season_highlights)||void 0===e?void 0:e.top_steals_by_pvdre)||null),y((null===(s=r.season_highlights)||void 0===s?void 0:s.top_busts_by_pvdre)||null),console.log("[SeasonDraftDetail] Successfully processed draft_board and other sections for season ".concat(a,"."))}else console.error("[SeasonDraftDetail] Fetched data for season ".concat(a," is not in the expected object format with a 'draft_board' array. Received:"),r),S("Data for season ".concat(a," is not in the expected format.")),x(null)}catch(e){e instanceof Error?S("Error loading draft data: ".concat(e.message)):S("An unknown error occurred while fetching season draft data."),console.error("[SeasonDraftDetail] Error in fetchData for season draft data:",e),x(null)}finally{w(!1)}})()},[a]);let{draftBoardPicks:M,gmNamesForColumns:O,maxRound:C,numGms:E,minPVDRE:F,maxPVDRE:R}=(0,r.useMemo)(()=>{if(!n||!Array.isArray(n))return console.warn("[SeasonDraftDetail useMemo] draftData is not an array or is null. draftData:",n),{draftBoardPicks:{},gmNamesForColumns:[],maxRound:0,numGms:0,minPVDRE:0,maxPVDRE:0};let e=[...n].sort((e,s)=>e.pick_overall-s.pick_overall),s={},a=1/0,t=-1/0;e.forEach(e=>{if("string"!=typeof e.gm_name||"number"!=typeof e.round||"number"!=typeof e.pick_in_round||"number"!=typeof e.pick_overall){console.warn("[SeasonDraftDetail useMemo] Invalid pick data encountered (missing gm_name, round, pick_in_round or pick_overall):",e);return}s[e.pick_overall]=e,null!==e.pvdre_points_vs_league_draft_rank_exp&&void 0!==e.pvdre_points_vs_league_draft_rank_exp&&(a=Math.min(a,e.pvdre_points_vs_league_draft_rank_exp),t=Math.max(t,e.pvdre_points_vs_league_draft_rank_exp))});let r=new Map,l=new Set,i=0;e.forEach(e=>{"string"==typeof e.gm_name&&"number"==typeof e.round&&"number"==typeof e.pick_in_round&&"number"==typeof e.pick_overall&&(l.add(e.gm_name),e.round>i&&(i=e.round),(!r.has(e.gm_name)||e.pick_overall<r.get(e.gm_name))&&r.set(e.gm_name,e.pick_overall))});let d=Array.from(l).sort((e,s)=>{var a,t;let l=null!==(a=r.get(e))&&void 0!==a?a:1/0,n=null!==(t=r.get(s))&&void 0!==t?t:1/0;return l===1/0&&n===1/0?e.localeCompare(s):l-n}),c=d.length;return{draftBoardPicks:s,gmNamesForColumns:d,maxRound:i,numGms:c,minPVDRE:a===1/0?0:a,maxPVDRE:t===-1/0?0:t}},[n]);return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsx)(i.ll,{children:"Season Draft View"}),(0,t.jsx)(i.SZ,{children:"Select a season to view its draft board and analysis."})]}),(0,t.jsxs)(i.aY,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4",children:[(0,t.jsxs)(d.Ph,{value:a,onValueChange:l,children:[(0,t.jsx)(d.i4,{className:"w-full sm:w-[280px]",children:(0,t.jsx)(d.ki,{placeholder:"Select a season's draft"})}),(0,t.jsx)(d.Bw,{children:Q.map(e=>(0,t.jsxs)(d.Ql,{value:e.id,children:[e.year," Draft"]},e.id))})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-4 sm:mt-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Y,{id:"value-analysis",checked:"value"===P,onCheckedChange:e=>D(e?"value":"none")}),(0,t.jsx)(N._,{htmlFor:"value-analysis",className:"text-sm",children:"Value Analysis"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Y,{id:"reach-steal",checked:"reachSteal"===P,onCheckedChange:e=>D(e?"reachSteal":"none")}),(0,t.jsx)(N._,{htmlFor:"reach-steal",className:"text-sm",children:"Reach/Steal"})]})]})]}),a&&(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)(i.ll,{children:[null===(s=Q.find(e=>e.id===a))||void 0===s?void 0:s.year," Draft Board"]}),(0,t.jsx)(i.SZ,{children:"Interactive draft board. Color-coded by position. Hover for details."})]}),(0,t.jsx)(i.aY,{children:k&&!n?(0,t.jsx)(o.O,{className:"h-[400px] w-full"}):A&&!n?(0,t.jsxs)("p",{className:"text-destructive text-center py-4",children:["Error loading draft data: ",A]}):n&&0!==O.length&&0!==C?(0,t.jsx)(m.pn,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(c.iA,{className:"min-w-full border-separate border-spacing-0",children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{className:"sticky left-0 bg-card z-20 p-1.5 border text-xs text-center font-semibold rounded-tl-sm",children:"Round"}),O.map((e,s)=>(0,t.jsx)(c.ss,{className:(0,j.cn)("p-1.5 border text-xs text-center font-semibold whitespace-nowrap min-w-[120px]",s===O.length-1&&"rounded-tr-sm"),children:e},e))]})}),(0,t.jsx)(c.RM,{children:Array.from({length:C},(e,s)=>s+1).map(e=>(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.pj,{className:"sticky left-0 bg-card z-20 p-1.5 border text-xs text-center font-semibold rounded-l-sm",children:e}),O.map((s,a)=>{var r,l,n,i,d,o,x,p,u,h,f,v,g,_,N;let b,y;b=e%2!=0?a+1:E-a;let k=M[(e-1)*E+b],w="p-1.5 border text-xs align-middle h-[60px] rounded-md";if(a===O.length-1&&e===C?w=(0,j.cn)(w,"rounded-br-sm"):a===O.length-1?w=(0,j.cn)(w,"rounded-r-sm"):e===C&&0===a&&O.find(e=>e===(null==k?void 0:k.gm_name)),!k)return(0,t.jsx)(c.pj,{className:(0,j.cn)(w,"bg-muted/20"),style:{minWidth:"120px",height:"60px"}},"".concat(e,"-").concat(a,"-empty"));let A="flex items-center justify-center h-full w-full text-center";return"none"===P?(A="flex flex-col items-center justify-center h-full w-full text-center",y=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"font-semibold truncate w-full",title:k.player_name,children:k.player_name}),(0,t.jsxs)("p",{className:"text-muted-foreground truncate w-full text-xs",children:[k.player_position," - ",k.nfl_team_id]})]}),w=(0,j.cn)(w,(0,j.re)(k.player_position))):"value"===P?(y=(0,t.jsx)("p",{className:"font-semibold",children:null!==(x=null===(o=k.pvdre_points_vs_league_draft_rank_exp)||void 0===o?void 0:o.toFixed(1))&&void 0!==x?x:"N/A"}),w=(0,j.cn)(w,ee(k.pvdre_points_vs_league_draft_rank_exp,F,R))):(y=(0,t.jsx)("p",{className:"font-semibold",children:null!==(u=null===(p=k.overall_reach_steal_value)||void 0===p?void 0:p.toFixed(1))&&void 0!==u?u:"N/A"}),w=(0,j.cn)(w,es(k.overall_reach_steal_value))),(0,t.jsx)(c.pj,{className:w,style:{minWidth:"120px",height:"60px"},children:(0,t.jsxs)(m.u,{delayDuration:100,children:[(0,t.jsx)(m.aJ,{asChild:!0,children:(0,t.jsx)("div",{className:A,children:y})}),(0,t.jsx)(m._v,{className:"bg-popover text-popover-foreground p-3 rounded-md shadow-lg max-w-xs w-auto",children:(0,t.jsxs)("div",{className:"space-y-1.5 text-left text-xs",children:[(0,t.jsxs)("p",{className:"font-bold text-sm",children:[k.player_name," (",k.nfl_team_id,")"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Picked By:"})," ",k.gm_name," (",k.fantasy_team_name,")"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Overall Pick:"})," ",k.pick_overall," (Round ",k.round,", Pick ",k.pick_in_round,")"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Overall ADP:"})," ",null!==(h=null===(r=k.overall_adp_rank)||void 0===r?void 0:r.toFixed(1))&&void 0!==h?h:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Reach/Steal Value:"})," ",null!==(f=null===(l=k.overall_reach_steal_value)||void 0===l?void 0:l.toFixed(1))&&void 0!==f?f:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Drafted Pos:"})," ",k.player_position,null!==(v=k.league_positional_draft_rank)&&void 0!==v?v:""]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Finished Pos:"})," ",null!==k.actual_positional_finish_rank&&void 0!==k.actual_positional_finish_rank?"".concat(k.player_position).concat(k.actual_positional_finish_rank):"-"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Expected Points:"})," ",null!==(g=null===(n=k.expected_points_for_league_draft_rank_smoothed)||void 0===n?void 0:n.toFixed(1))&&void 0!==g?g:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Actual Points:"})," ",null!==(_=null===(i=k.actual_total_fantasy_points_season)||void 0===i?void 0:i.toFixed(1))&&void 0!==_?_:"N/A"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"font-medium",children:"POE:"})," ",null!==(N=null===(d=k.pvdre_points_vs_league_draft_rank_exp)||void 0===d?void 0:d.toFixed(1))&&void 0!==N?N:"N/A"]})]})})]})},k.player_id||"".concat(e,"-").concat(a,"-").concat(k.pick_overall))})]},e))})]})})}):(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No draft data available for the selected season, or data is malformed. Check console for details."})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{children:"Team Draft Performance"})}),(0,t.jsxs)(i.aY,{children:[k&&!p&&(0,t.jsx)(o.O,{className:"h-24 w-full"}),!k&&A&&(0,t.jsx)("p",{className:"text-destructive text-center py-4",children:"Error loading draft performance data."}),!k&&!A&&p&&p.length>0&&(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"GM"}),(0,t.jsx)(c.ss,{className:"text-right",children:"Avg POE (Per Pick)"}),(0,t.jsx)(c.ss,{className:"text-right",children:"Hit Rate"})]})}),(0,t.jsx)(c.RM,{children:p.sort((e,s)=>{var a,t;return(null!==(a=s.avg_pvdre_per_pick)&&void 0!==a?a:-1/0)-(null!==(t=e.avg_pvdre_per_pick)&&void 0!==t?t:-1/0)}).map((e,s)=>{var a,r,l,n;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{children:[(0,t.jsx)("p",{className:"font-medium",children:e.gm_name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.fantasy_team_name})]}),(0,t.jsx)(c.pj,{className:"text-right font-semibold",children:null!==(l=null===(a=e.avg_pvdre_per_pick)||void 0===a?void 0:a.toFixed(2))&&void 0!==l?l:"N/A"}),(0,t.jsxs)(c.pj,{className:"text-right",children:[null!==(n=null===(r=e.hit_rate_percentage)||void 0===r?void 0:r.toFixed(1))&&void 0!==n?n:"N/A","%"]})]},s)})})]}),!k&&!A&&(!p||0===p.length)&&(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No team draft performance data available for this season."})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{children:"Season's Top Steals & Busts"})}),(0,t.jsxs)(i.aY,{children:[k&&(!v||!_)&&(0,t.jsx)(o.O,{className:"h-48 w-full"}),!k&&A&&(0,t.jsx)("p",{className:"text-destructive text-center py-4",children:"Error loading steals/busts."}),!k&&!A&&(v||_)&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center",children:[(0,t.jsx)(u.Z,{className:"text-green-500 mr-2 h-5 w-5"})," Top Steals"]}),v&&v.length>0?(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Player"}),(0,t.jsx)(c.ss,{children:"Pos"}),(0,t.jsx)(c.ss,{className:"text-right",children:"POE (Points Over Expected)"})]})}),(0,t.jsx)(c.RM,{children:v.slice(0,5).map((e,s)=>{var a,r;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{children:[(0,t.jsx)("p",{className:"font-medium",children:e.player_name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Picked by ",e.gm_name," (Overall: ",e.pick_overall,")"]})]}),(0,t.jsx)(c.pj,{children:(0,t.jsx)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:e.player_position})}),(0,t.jsx)(c.pj,{className:"text-right text-green-600 font-semibold",children:null!==(r=null===(a=e.pvdre_points_vs_league_draft_rank_exp)||void 0===a?void 0:a.toFixed(1))&&void 0!==r?r:"N/A"})]},"steal-".concat(s))})})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-sm text-center py-3",children:"No top steals data available."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold mb-2 flex items-center",children:[(0,t.jsx)(h.Z,{className:"text-red-500 mr-2 h-5 w-5"})," Top Busts"]}),_&&_.length>0?(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Player"}),(0,t.jsx)(c.ss,{children:"Pos"}),(0,t.jsx)(c.ss,{className:"text-right",children:"POE (Points Over Expected)"})]})}),(0,t.jsx)(c.RM,{children:_.slice(0,5).map((e,s)=>{var a,r;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{children:[(0,t.jsx)("p",{className:"font-medium",children:e.player_name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Picked by ",e.gm_name," (Overall: ",e.pick_overall,")"]})]}),(0,t.jsx)(c.pj,{children:(0,t.jsx)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:e.player_position})}),(0,t.jsx)(c.pj,{className:"text-right text-red-600 font-semibold",children:null!==(r=null===(a=e.pvdre_points_vs_league_draft_rank_exp)||void 0===a?void 0:a.toFixed(1))&&void 0!==r?r:"N/A"})]},"bust-".concat(s))})})]}):(0,t.jsx)("p",{className:"text-muted-foreground text-sm text-center py-3",children:"No top busts data available."})]})]}),!k&&!A&&!v&&!_&&(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No steals or busts data available for this season."})]})]})]})]})]})})},et=e=>null==e?"N/A":(e>=0?"+":"")+e.toFixed(1),er=()=>{var e,s;let[a,l]=(0,r.useState)(null===(e=U[0])||void 0===e?void 0:e.id),[n,m]=(0,r.useState)(null),[x,p]=(0,r.useState)(!1),[_,N]=(0,r.useState)(null);(0,r.useEffect)(()=>{a&&(async()=>{p(!0),N(null),m(null);try{var e;let s=U.find(e=>e.id===a);if(!s)throw Error("Selected GM not found in mock data.");let t="/data/draft_data/gm/gm_".concat(a,"_draft_history.json");console.log("[GMDraftHistory] Fetching ".concat(t));let r=await (0,K._)(t);console.log("[GMDraftHistory] Fetched data for GM ".concat(a,":"),r),r.gm_name!==s.name&&(null===(e=r.gm_id)||void 0===e?void 0:e.toString())!==a&&console.warn("[GMDraftHistory] Mismatch between selected GM (".concat(s.name,", ID ").concat(a,") and fetched data (").concat(r.gm_name,", ID ").concat(r.gm_id,"). Using fetched data.")),m(r)}catch(e){e instanceof Error?N(e.message):N("An unknown error occurred"),console.error("[GMDraftHistory] Error in fetchData for GM ".concat(a,":"),e),m(null)}finally{p(!1)}})()},[a]);let y=(0,r.useMemo)(()=>(null==n?void 0:n.round_efficiency.map(e=>({name:"R".concat(e.round.toFixed(0)),"Avg POE":e.average_pvdre})))||[],[null==n?void 0:n.round_efficiency]);return((0,r.useMemo)(()=>(null==n?void 0:n.positional_profile)?n.positional_profile.map(e=>{var s;return{name:e.position,"GM Avg POE":e.gm_average_pvdre,"League Avg POE":null!==(s=e.league_average_pvdre)&&void 0!==s?s:0}}):[],[null==n?void 0:n.positional_profile]),a)?(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2",children:[(0,t.jsx)("div",{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.Z,{})," ",(null==n?void 0:n.gm_name)||(null===(s=U.find(e=>e.id===a))||void 0===s?void 0:s.name)||"GM","'s Draft History"]})}),(0,t.jsxs)(d.Ph,{value:a,onValueChange:l,children:[(0,t.jsx)(d.i4,{className:"w-full sm:w-[280px] mt-2 sm:mt-0",children:(0,t.jsx)(d.ki,{placeholder:"Select a GM"})}),(0,t.jsx)(d.Bw,{children:U.map(e=>(0,t.jsx)(d.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)(i.aY,{children:[x&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(o.O,{className:"h-24 w-full"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(o.O,{className:"h-64 w-full"}),(0,t.jsx)(o.O,{className:"h-64 w-full"})]}),(0,t.jsx)(o.O,{className:"h-48 w-full"})]}),_&&(0,t.jsxs)("p",{className:"text-destructive text-center py-4",children:["Error loading draft history data: ",_]}),!x&&!n&&!_&&(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No draft history data found for this GM. Ensure 'gm_GMID_draft_history.json' exists in 'public/data/draft_data/gm/'."}),!x&&n&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 pt-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-3 rounded-md bg-muted/50 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Total Picks Made"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:n.career_summary.total_picks_made})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-3 rounded-md bg-muted/50 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Total Hits"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:n.career_summary.total_hits})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-3 rounded-md bg-muted/50 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Total Misses"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:n.career_summary.total_misses})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-3 rounded-md bg-muted/50 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Career Hit Rate"}),(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[n.career_summary.career_hit_rate_percentage.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-3 rounded-md bg-muted/50 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Sum Total POE"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:n.career_summary.sum_total_pvdre.toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center p-3 rounded-md bg-muted/50 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase text-muted-foreground font-medium",children:"Avg. POE / Pick"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:n.career_summary.average_pvdre_per_pick.toFixed(2)})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsx)(i.ll,{className:"text-lg",children:"Round Efficiency (Avg. POE)"})}),(0,t.jsx)(i.aY,{className:"h-[300px]",children:(0,t.jsx)(H.h,{width:"100%",height:"100%",children:(0,t.jsxs)(B.v,{data:y,children:[(0,t.jsx)(z.q,{strokeDasharray:"3 3"}),(0,t.jsx)(L.K,{dataKey:"name"}),(0,t.jsx)(I.B,{}),(0,t.jsx)(W.u,{formatter:e=>e.toFixed(1)}),(0,t.jsx)(J.$,{dataKey:"Avg POE",fill:"hsl(var(--primary))",children:y.map((e,s)=>(0,t.jsx)(q.b,{fill:e["Avg POE"]>=0?"hsl(var(--chart-2))":"hsl(var(--destructive))"},"cell-".concat(s)))})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-lg flex items-center",children:[(0,t.jsx)(u.Z,{className:"text-green-500 mr-2 h-5 w-5"}),"Best Picks (by POE)"]})}),(0,t.jsx)(i.aY,{children:n.best_picks&&n.best_picks.length>0?(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Player (Team)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Season"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Pick (Overall)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Drafted (Pos)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Finished (Pos)"}),(0,t.jsx)(c.ss,{className:"text-right",children:"POE"})]})}),(0,t.jsx)(c.RM,{children:n.best_picks.slice(0,5).map(e=>{var s,a,r;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{className:"font-medium",children:[e.player_name," (",e.nfl_team_id||"N/A",")"]}),(0,t.jsx)(c.pj,{className:"text-center",children:e.season_id}),(0,t.jsx)(c.pj,{className:"text-center",children:e.pick_overall}),(0,t.jsx)(c.pj,{className:"text-center",children:(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position,null!==(r=e.league_positional_draft_rank)&&void 0!==r?r:""]})}),(0,t.jsx)(c.pj,{className:"text-center",children:null!==e.actual_positional_finish_rank&&void 0!==e.actual_positional_finish_rank?(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position,e.actual_positional_finish_rank]}):"-"}),(0,t.jsx)(c.pj,{className:"text-right text-green-600 font-semibold",children:null===(s=e.pvdre_points_vs_league_draft_rank_exp)||void 0===s?void 0:s.toFixed(1)})]},e.player_id+((null===(a=e.draft_id)||void 0===a?void 0:a.toString())||e.pick_overall.toString()))})})]}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"No best picks data available."})})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"text-lg flex items-center",children:[(0,t.jsx)(h.Z,{className:"text-red-500 mr-2 h-5 w-5"}),"Worst Picks (by POE)"]})}),(0,t.jsx)(i.aY,{children:n.worst_picks&&n.worst_picks.length>0?(0,t.jsxs)(c.iA,{children:[(0,t.jsx)(c.xD,{children:(0,t.jsxs)(c.SC,{children:[(0,t.jsx)(c.ss,{children:"Player (Team)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Season"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Pick (Overall)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Drafted (Pos)"}),(0,t.jsx)(c.ss,{className:"text-center",children:"Finished (Pos)"}),(0,t.jsx)(c.ss,{className:"text-right",children:"POE"})]})}),(0,t.jsx)(c.RM,{children:n.worst_picks.slice(0,5).map(e=>{var s,a,r;return(0,t.jsxs)(c.SC,{children:[(0,t.jsxs)(c.pj,{className:"font-medium",children:[e.player_name," (",e.nfl_team_id||"N/A",")"]}),(0,t.jsx)(c.pj,{className:"text-center",children:e.season_id}),(0,t.jsx)(c.pj,{className:"text-center",children:e.pick_overall}),(0,t.jsx)(c.pj,{className:"text-center",children:(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position,null!==(r=e.league_positional_draft_rank)&&void 0!==r?r:""]})}),(0,t.jsx)(c.pj,{className:"text-center",children:null!==e.actual_positional_finish_rank&&void 0!==e.actual_positional_finish_rank?(0,t.jsxs)(b.C,{variant:"outline",className:(0,j.re)(e.player_position),children:[e.player_position,e.actual_positional_finish_rank]}):"-"}),(0,t.jsx)(c.pj,{className:"text-right text-red-600 font-semibold",children:null===(s=e.pvdre_points_vs_league_draft_rank_exp)||void 0===s?void 0:s.toFixed(1)})]},e.player_id+((null===(a=e.draft_id)||void 0===a?void 0:a.toString())||e.pick_overall.toString()))})})]}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"No worst picks data available."})})]})]}),(0,t.jsxs)(i.Zb,{children:[(0,t.jsxs)(i.Ol,{children:[(0,t.jsx)(i.ll,{className:"text-lg",children:"Positional Performance Analysis"}),(0,t.jsx)(i.SZ,{children:"Comparing GM draft value vs. league averages by position."})]}),(0,t.jsx)(i.aY,{children:n.positional_profile&&n.positional_profile.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.positional_profile.map(e=>{let s="number"==typeof e.gm_average_pvdre&&"number"==typeof e.league_average_pvdre&&null!==e.league_average_pvdre&&e.gm_average_pvdre>e.league_average_pvdre,a="number"==typeof e.gm_average_pvdre&&"number"==typeof e.league_average_pvdre&&null!==e.league_average_pvdre&&e.gm_average_pvdre<e.league_average_pvdre,r="border-border";return s&&(r="border-green-500"),a&&(r="border-red-500"),(0,t.jsxs)(i.Zb,{className:(0,j.cn)("shadow-md",r,"border-2"),children:[(0,t.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2 pt-4 px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.md)(e.position),(0,t.jsx)(i.ll,{className:"text-base font-medium",children:e.position})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Picks: ",e.picks_count]})]}),(0,t.jsxs)(i.aY,{className:"px-4 pb-4 space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"GM Avg POE:"}),(0,t.jsx)("span",{className:(0,j.cn)("font-semibold","number"==typeof e.gm_average_pvdre&&e.gm_average_pvdre<0?"text-red-600":"text-green-600"),children:et(e.gm_average_pvdre)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"League Avg POE:"}),(0,t.jsx)("span",{className:(0,j.cn)("font-semibold","number"==typeof e.league_average_pvdre&&e.league_average_pvdre<0?"text-red-600":"text-green-600"),children:et(e.league_average_pvdre)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"GM Total POE:"}),(0,t.jsx)("span",{className:(0,j.cn)("font-semibold","number"==typeof e.gm_total_pvdre&&e.gm_total_pvdre<0?"text-red-600":"text-green-600"),children:et(e.gm_total_pvdre)})]})]}),(s||a)&&(0,t.jsx)(i.eW,{className:"pt-0 pb-3 px-4",children:(0,t.jsxs)("div",{className:(0,j.cn)("flex items-center text-xs font-medium",s?"text-green-600":"text-red-600"),children:[s?(0,t.jsx)(v.Z,{size:16,className:"mr-1"}):(0,t.jsx)(g.Z,{size:16,className:"mr-1"}),s?"Outperforming League Avg":"Underperforming League Avg"]})})]},e.position)})}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"No positional profile data available."})})]})]})]})]})}):(0,t.jsxs)(i.Zb,{children:[(0,t.jsx)(i.Ol,{children:(0,t.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.Z,{})," GM Draft History"]})}),(0,t.jsx)(i.aY,{children:(0,t.jsxs)(d.Ph,{onValueChange:l,children:[(0,t.jsx)(d.i4,{className:"w-full sm:w-[280px]",children:(0,t.jsx)(d.ki,{placeholder:"Select a GM"})}),(0,t.jsx)(d.Bw,{children:U.map(e=>(0,t.jsx)(d.Ql,{value:e.id,children:e.name},e.id))})]})})]})};function el(){let e=(0,l.useSearchParams)().get("section")||"overview";return(0,t.jsxs)("div",{className:"space-y-6",children:["overview"===e&&(0,t.jsx)($,{}),"season-view"===e&&(0,t.jsx)(ea,{}),"gm-view"===e&&(0,t.jsx)(er,{})]})}},89736:(e,s,a)=>{"use strict";a.d(s,{_v:()=>o,aJ:()=>c,pn:()=>i,u:()=>d});var t=a(57437),r=a(2265),l=a(27071),n=a(82482);let i=l.zt,d=l.fC,c=l.xz,o=r.forwardRef((e,s)=>{let{className:a,sideOffset:r=4,...i}=e;return(0,t.jsx)(l.VY,{ref:s,sideOffset:r,className:(0,n.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});o.displayName=l.VY.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[200,282,620,178,65,71,954,130,215,744],()=>s(33493)),_N_E=e.O()}]);